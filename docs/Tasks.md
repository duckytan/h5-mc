# 实现任务清单

> 基于 PRD v2.3 的实现任务分解
>
> **开发模型指南**：
>
> - **GLM-4.7**：架构设计、性能优化、复杂逻辑（首选）
> - **GPT-5 Nano**：核心算法、第三方库、英文代码
> - **Kimi K2.5**：中文文档、代码注释
> - **MiniMax M2.1**：简单修改、Bug修复、快速原型

> **优化原则**：
>
> - 按开发模型分组，同一模型任务连续执行
> - 减少模型切换次数，提升开发效率
> - 保持依赖关系不变

> **技能使用指南**：
>
> - 核心技能：必须使用（直接影响任务质量）
> - 辅助技能：建议使用（提升效率/质量）
> - 可选技能：根据需要使用（特定场景）

---

## 技能速查表

### Three.js核心技能

| 技能                   | 适用场景                                  |
| ---------------------- | ----------------------------------------- |
| `threejs-fundamentals` | 场景设置、相机、渲染器基础                |
| `threejs-geometry`     | 体素几何体创建、自定义形状、InstancedMesh |
| `threejs-materials`    | 材质、PBR纹理、ShaderMaterial、纹理图集   |
| `threejs-lighting`     | 光源、阴影、环境光、天空盒                |
| `threejs-interaction`  | 射线检测、鼠标交互、PointerLock           |
| `threejs-loaders`      | GLTF模型、纹理、HDR加载                   |
| `threejs-textures`     | UV映射、纹理设置、TextureAtlas            |
| `threejs-shaders`      | 自定义GLSL着色器、贪婪网格                |

### 开发辅助技能

| 技能              | 适用场景                      |
| ----------------- | ----------------------------- |
| `frontend-design` | 游戏UI设计、物品栏、设置菜单  |
| `frontend-ui-ux`  | UI/UX改进、动画效果、交互反馈 |
| `playwright`      | 浏览器测试、渲染验证、E2E测试 |
| `dev-browser`     | 持久状态浏览器交互、手动测试  |
| `git-master`      | Git操作、版本控制、提交规范   |
| `release-skills`  | 项目构建、版本发布、CI/CD     |

---

## 模型分组总览

| 模型             | 任务数 | 占比 | 连续工作周 |
| ---------------- | ------ | ---- | ---------- |
| **MiniMax M2.1** | 17     | 35%  | 4周        |
| **GPT-5 Nano**   | 17     | 35%  | 5周        |
| **GLM-4.7**      | 14     | 30%  | 4周        |

### 连续开发计划

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              连续开发计划                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Week 1-2  [MiniMax M2.1]                                                  │
│  ├── Phase 0 项目初始化（配置类任务）                                         │
│  └── Phase 1 测试收尾 + Phase 2 序列化                                      │
│                                                                             │
│  Week 3-7  [GPT-5 Nano - 核心渲染与算法]                                    │
│  ├── Phase 1 Three.js 场景、材质、网格、渲染（4个连续任务）                   │
│  ├── Phase 2 噪声、地形、洞穴、植被、天气（5个连续任务）                      │
│  └── Phase 3 相机、移动、交互、物理、物品栏（5个连续任务）                   │
│                                                                             │
│  Week 8-11 [GLM-4.7 - 架构设计与优化]                                       │
│  ├── Phase 1 数据结构、核心逻辑、优化（3个连续任务）                          │
│  ├── Phase 2 生物群系、结构、区块、性能（4个连续任务）                       │
│  ├── Phase 3 碰撞检测（独立）                                                │
│  └── Phase 4-5 架构设计、内存、网络（5个连续任务）                           │
│                                                                             │
│  Week 12-13 [MiniMax M2.1 - 收尾与UI]                                       │
│  ├── Phase 4 合成、熔炉、成就                                                │
│  └── Phase 6 交互提示、设置菜单、暂停菜单                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Phase 0: 项目初始化

> **目标**：建立开发环境、版本控制、基础架构

> **策略**：配置类任务统一使用 MiniMax M2.1，类型定义使用 GLM-4.7

---

### M0.M1 项目基础架构搭建 [MiniMax M2.1]

**任务描述**：

- 初始化 TypeScript + Vite 项目
- 配置 ESLint + Prettier 代码规范
- 设置 Three.js 开发环境
- 配置路径别名（@/）

**验收标准**：

- [ ] `npm run dev` 正常运行
- [ ] ESLint 检查通过
- [ ] 代码格式化一致

**依赖**：无

**优先级**：P0

**工时**：2 天

**检查点**：

- [ ] package.json 依赖版本锁定
- [ ] tsconfig.json 严格模式启用
- [ ] vite.config.ts 基础配置完成

**推荐模型**：MiniMax M2.1
**推荐技能**：无（基础配置）

---

### M0.M2 Git 工作流配置 [MiniMax M2.1]

**任务描述**：

- 配置 Git Hooks（pre-commit）
- 设置分支策略（main / develop / feature/\*）
- 配置 CI/CD 流水线

**验收标准**：

- [ ] 代码提交前自动检查
- [ ] PR 流程可执行

**依赖**：M0.M1

**优先级**：P0

**工时**：1 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`git-master`, `release-skills`

---

### M0.M3 目录结构创建 [MiniMax M2.1]

**任务描述**：

```
src/
├── core/           # 核心引擎
│   ├── VoxelWorld.ts
│   ├── ChunkManager.ts
│   ├── SceneManager.ts
│   └── MaterialManager.ts
├── gameplay/       # 游戏玩法
│   ├── PlayerController.ts
│   └── BlockInteraction.ts
├── world/          # 世界生成
│   └── TerrainGenerator.ts
├── ui/             # 用户界面
│   └── GameUI.ts
├── utils/          # 工具函数
├── types/          # 类型定义
└── main.ts         # 入口文件
```

**验收标准**：

- [ ] 目录结构符合规范
- [ ] 基础文件占位符创建

**依赖**：M0.M1

**优先级**：P0

**工时**：1 天

**推荐模型**：MiniMax M2.1
**推荐技能**：无（文件结构）

---

### M0.M4 开发工具链配置 [MiniMax M2.1]

**任务描述**：

- 配置 Source Map 调试
- 设置热更新（HMR）
- 配置开发服务器代理

**验收标准**：

- [ ] 断点调试可用
- [ ] 修改代码即时生效

**依赖**：M0.M1

**优先级**：P1

**工时**：1 天

**推荐模型**：MiniMax M2.1
**推荐技能**：无（Vite配置）

---

### M0.G1 基础类型定义 [GLM-4.7]

**任务描述**：

- 定义 Vector3、Chunk、Block 等核心类型
- 创建坐标系统（X/Y/Z → 整数索引）
- 定义材质类型

**验收标准**：

- [ ] TypeScript 类型检查通过
- [ ] 核心类型完整覆盖

**依赖**：M0.M3

**优先级**：P0

**工时**：2 天

**推荐模型**：GLM-4.7
**推荐技能**：无（类型设计）
**辅助技能**：可参考 PRD.md 中的数据结构定义

---

## Phase 1: 核心引擎

> **目标**：实现 Three.js 基础场景、体素世界管理、材质系统

> **策略**：
>
> - GPT-5 Nano：场景、材质、网格、渲染（连续执行）
> - GLM-4.7：数据结构、核心逻辑、优化（连续执行）
> - MiniMax M2.1：测试收尾

---

### G1.G1 VoxelWorld 类实现 [GLM-4.7]

**任务描述**：

- 管理全局体素数据
- 世界坐标 ↔ 块坐标转换
- 世界边界检测

**验收标准**：

- [ ] 坐标转换正确
- [ ] 边界外访问返回 null

**依赖**：M0.G1

**优先级**：P0

**工时**：3 天

**技术要点**：

- 使用 Int8Array 存储块 ID
- 压缩存储优化

**推荐模型**：GLM-4.7
**推荐技能**：无（核心逻辑）

---

### G1.G2 Chunk 数据结构设计 [GLM-4.7]

**任务描述**：

- 定义 Chunk（32x32x32）结构
- 实现 Chunk 坐标计算
- 创建 Chunk 池

**验收标准**：

- [ ] Chunk 索引正确
- [ ] 内存占用合理

**依赖**：G1.G1

**优先级**：P0

**工时**：2 天

**推荐模型**：GLM-4.7
**推荐技能**：无（数据结构）

---

### G1.G3 InstancedMesh 优化 [GLM-4.7]

**任务描述**：

- 将方块渲染迁移至 InstancedMesh
- 矩阵更新机制
- 渲染性能优化

**验收标准**：

- [ ] 渲染帧率提升 50%
- [ ] 同屏方块数提升

**依赖**：G1.N4（渲染系统完成后）

**优先级**：P1

**工时**：4 天

**技术要点**：

- 视锥体剔除
- 实例矩阵批量更新

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-geometry`
**辅助技能**：`threejs-materials`, `playwright`（性能测试）

---

### G1.G4 引擎核心测试 [MiniMax M2.1]

**任务描述**：

- 单元测试覆盖核心函数
- 性能基准测试
- 内存泄漏检测

**验收标准**：

- [ ] 测试覆盖率 > 80%
- [ ] 无内存泄漏

**依赖**：G1.G1-G1.G3

**优先级**：P1

**工时**：2 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`playwright`（E2E测试）
**辅助技能**：`dev-browser`（手动验证）

---

### G1.N1 Three.js 场景初始化 [GPT-5 Nano]

**任务描述**：

- 创建 SceneManager 类
- 配置 PerspectiveCamera
- 设置 WebGLRenderer
- 实现渲染循环

**验收标准**：

- [ ] Canvas 正常渲染
- [ ] FPS 稳定在 60

**依赖**：M0.M1

**优先级**：P0

**工时**：2 天

**技术要点**：

- 禁用抗锯齿（性能优先）
- 启用 alpha 通道（天空盒）
- 配置 pixelRatio 上限

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-fundamentals`
**辅助技能**：`playwright`（验证渲染结果）

---

### G1.N2 材质系统实现 [GPT-5 Nano]

**任务描述**：

- 创建 MaterialManager
- 实现材质实例复用
- 配置纹理映射

**验收标准**：

- [ ] 材质正确渲染
- [ ] 纹理加载完成

**依赖**：G1.N1

**优先级**：P1

**工时**：3 天

**技术要点**：

- 纹理图集（Texture Atlas）
- UV 映射计算

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-materials`, `threejs-textures`
**辅助技能**：`threejs-loaders`（纹理加载）

---

### G1.N3 基础网格生成 [GPT-5 Nano]

**任务描述**：

- 实现方块网格生成
- 面剔除优化
- 顶点颜色/UV 填充

**验收标准**：

- [ ] 基础方块可渲染
- [ ] 面剔除生效

**依赖**：G1.G2

**优先级**：P0

**工时**：3 天

**技术要点**：

- 只生成可见面
- 共享顶点数据

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-geometry`
**辅助技能**：`threejs-shaders`（自定义网格生成）

---

### G1.N4 Chunk 渲染系统 [GPT-5 Nano]

**任务描述**：

- ChunkMesher 网格生成器
- 批量渲染优化
- 动态更新机制

**验收标准**：

- [ ] Chunk 正常渲染
- [ ] 更新时网格重建

**依赖**：G1.N3

**优先级**：P0

**工时**：3 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-geometry`
**辅助技能**：`threejs-shaders`（网格优化）

---

## Phase 2: 地形生成

> **目标**：实现噪声地形、多生物群系、结构生成

> **策略**：
>
> - GPT-5 Nano：噪声、地形、洞穴、植被、天气（连续执行）
> - GLM-4.7：生物群系、结构、区块、性能（连续执行）
> - MiniMax M2.1：序列化收尾

---

### G2.G1 生物群系系统 [GLM-4.7]

**任务描述**：

- 实现生物群系判定
- 生物群系属性配置
- 生物群系过渡带

**验收标准**：

- [ ] 多种生物群系生成
- [ ] 边界过渡自然

**依赖**：G2.N2

**优先级**：P1

**工时**：3 天

**技术要点**：

- 温度/湿度模型
- Voronoi 区域划分

**推荐模型**：GLM-4.7
**推荐技能**：无（生物群系逻辑）

---

### G2.G2 结构生成系统 [GLM-4.7]

**任务描述**：

- 村庄结构模板
- 要塞结构模板
- 结构放置算法

**验收标准**：

- [ ] 村庄可生成
- [ ] 结构不重叠

**依赖**：G2.G1

**优先级**：P2

**工时**：4 天

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-geometry`（结构模板）

---

### G2.G3 世界区块管理 [GLM-4.7]

**任务描述**：

- Chunk 加载/卸载策略
- 视距分级（LOD）
- 异步加载机制

**验收标准**：

- [ ] 移动时区块动态加载
- [ ] 无明显卡顿

**依赖**：G1.G2

**优先级**：P0

**工时**：4 天

**技术要点**：

- 四叉树空间索引
- 后台线程加载

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-geometry`
**辅助技能**：`playwright`（加载性能测试）

---

### G2.G4 地形性能优化 [GLM-4.7]

**任务描述**：

- 网格合并优化
- 视锥体剔除
- 渲染调度优化

**验收标准**：

- [ ] 同屏 10 万方块流畅
- [ ] 加载速度提升

**依赖**：G2.G3

**优先级**：P1

**工时**：3 天

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-geometry`
**辅助技能**：`playwright`（性能测试）

---

### G2.M1 地形保存系统 [MiniMax M2.1]

**任务描述**：

- Chunk 数据序列化
- 压缩存储
- 存档管理

**验收标准**：

- [ ] 世界可保存
- [ ] 存档可加载

**依赖**：G2.G3

**优先级**：P2

**工时**：3 天

**推荐模型**：MiniMax M2.1
**推荐技能**：无（序列化逻辑）

---

### G2.N1 噪声算法集成 [GPT-5 Nano]

**任务描述**：

- 集成 Simplex Noise 库
- 实现 3D 噪声函数
- 噪声参数配置

**验收标准**：

- [ ] 地形生成可重复
- [ ] 噪声平滑自然

**依赖**：G1.G1

**优先级**：P0

**工时**：2 天

**技术要点**：

- 多层噪声叠加
- 种子系统

**推荐模型**：GPT-5 Nano
**推荐技能**：无（噪声算法）

---

### G2.N2 地形高度图生成 [GPT-5 Nano]

**任务描述**：

- 实现地面高度计算
- 海平面检测
- 地形平滑处理

**验收标准**：

- [ ] 地形高度合理
- [ ] 海洋区域正确

**依赖**：G2.N1

**优先级**：P0

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：无（地形算法）

---

### G2.N3 洞穴系统实现 [GPT-5 Nano]

**任务描述**：

- 3D 噪声洞穴生成
- 洞穴连通性检测
- 地下空间渲染

**验收标准**：

- [ ] 洞穴自然分布
- [ ] 可进入地下

**依赖**：G2.N1

**优先级**：P1

**工时**：3 天

**技术要点**：

- 隧道生成算法
- 空气块处理

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-geometry`（洞穴渲染）

---

### G2.N4 地表植被生成 [GPT-5 Nano]

**任务描述**：

- 实现树木生成算法
- 植物分布逻辑
- 植被方块类型

**验收标准**：

- [ ] 树木自然分布
- [ ] 不同生物群系不同植被

**依赖**：G2.G1

**优先级**：P1

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-geometry`（植被模型）

---

### G2.N5 天气系统 [GPT-5 Nano]

**任务描述**：

- 降雨效果
- 雷电系统
- 天空颜色变化

**验收标准**：

- [ ] 天气效果可见
- [ ] 光照正确变化

**依赖**：G1.N1

**优先级**：P2

**工时**：3 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-lighting`, `threejs-postprocessing`

---

## Phase 3: 玩家系统

> **目标**：实现第一人称控制、物理碰撞、交互系统

> **策略**：
>
> - GPT-5 Nano：相机、移动、交互、物理、物品栏（连续执行）
> - GLM-4.7：碰撞检测（独立）

---

### G3.N1 相机控制实现 [GPT-5 Nano]

**任务描述**：

- 第一人称视角
- 鼠标视角旋转
- 视角平滑过渡

**验收标准**：

- [ ] 视角控制流畅
- [ ] 无镜头翻转

**依赖**：G1.N1

**优先级**：P0

**工时**：2 天

**技术要点**：

- Pointer Lock API
- 欧拉角限制

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-interaction`
**辅助技能**：`threejs-fundamentals`（相机基础）

---

### G3.N2 玩家移动控制 [GPT-5 Nano]

**任务描述**：

- WASD 移动
- 跳跃机制
- 加速/减速

**验收标准**：

- [ ] 移动响应灵敏
- [ ] 跳跃物理正确

**依赖**：G3.N1

**优先级**：P0

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-interaction`

---

### G3.N3 方块交互系统 [GPT-5 Nano]

**任务描述**：

- 射线检测选中方块
- 放置方块
- 破坏方块

**验收标准**：

- [ ] 点击选择正确
- [ ] 放置/破坏响应

**依赖**：G3.G1

**优先级**：P0

**工时**：3 天

**技术要点**：

- Raycasting 优化
- 距离限制

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-interaction`

---

### G3.N4 玩家物理模拟 [GPT-5 Nano]

**任务描述**：

- 重力实现
- 速度与加速度
- 掉落伤害

**验收标准**：

- [ ] 重力效果自然
- [ ] 掉落伤害正确

**依赖**：G3.G1

**优先级**：P1

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-animation`（物理动画）

---

### G3.N5 物品栏系统 [GPT-5 Nano]

**任务描述**：

- 物品栏 UI
- 物品选择
- 快捷键切换

**验收标准**：

- [ ] 物品栏可操作
- [ ] 切换流畅

**依赖**：G3.N3

**优先级**：P1

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`frontend-design`, `frontend-ui-ux`
**辅助技能**：`canvas-design`（物品图标）

---

### G3.G1 碰撞检测系统 [GLM-4.7]

**任务描述**：

- AABB 碰撞检测
- 墙壁/地面检测
- 碰撞响应

**验收标准**：

- [ ] 不会穿墙
- [ ] 可以站在方块上

**依赖**：G3.N2

**优先级**：P0

**工时**：3 天

**技术要点**：

- 宽阶段 + 窄阶段
- 连续碰撞检测（CCD）

**推荐模型**：GLM-4.7
**推荐技能**：无（物理算法）

---

## Phase 4: 游戏玩法

> **目标**：实现生物、AI、红石、合成等玩法系统

> **策略**：
>
> - GLM-4.7：生物系统、红石、附魔（架构设计）
> - GPT-5 Nano：AI 行为（算法）
> - MiniMax M2.1：合成、熔炉、成就（简单逻辑）

---

### G4.G1 生物系统基础 [GLM-4.7]

**任务描述**：

- 生物基类设计
- 生物生成逻辑
- 生物生命周期

**验收标准**：

- [ ] 生物可生成
- [ ] 随时间自然消失

**依赖**：G2.G1

**优先级**：P1

**工时**：3 天

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-geometry`（生物渲染）

---

### G4.G2 红石系统 [GLM-4.7]

**任务描述**：

- 红石元件实现
- 信号传输
- 逻辑门电路

**验收标准**：

- [ ] 红石信号正确传输
- [ ] 可搭建简单电路

**依赖**：G3.N3

**优先级**：P2

**工时**：5 天

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-shaders`（红石粒子效果）

---

### G4.G3 附魔系统 [GLM-4.7]

**任务描述**：

- 附魔表实现
- 经验系统
- 附魔效果

**验收标准**：

- [ ] 附魔可进行
- [ ] 效果生效

**依赖**：G4.M1

**优先级**：P3

**工时**：4 天

**推荐模型**：GLM-4.7
**推荐技能**：`frontend-design`（附魔UI）

---

### G4.N1 玩家AI实现 [GPT-5 Nano]

**任务描述**：

- 玩家目标系统
- 路径规划
- 行为决策

**验收标准**：

- [ ] 简单移动正确
- [ ] 避开障碍物

**依赖**：G4.G1

**优先级**：P2

**工时**：4 天

**技术要点**：

- A\* 寻路
- 行为树或 FSM

**推荐模型**：GPT-5 Nano
**推荐技能**：无（AI算法）

---

### G4.N2 生物AI实现 [GPT-5 Nano]

**任务描述**：

- 动物行为（游荡、觅食）
- 敌对生物行为（追击、攻击）
- 群体行为

**验收标准**：

- [ ] 生物行为自然
- [ ] 可被击杀

**依赖**：G4.G1

**优先级**：P2

**工时**：4 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-animation`（生物动画）

---

### G4.M1 合成系统 [MiniMax M2.1]

**任务描述**：

- 配方数据结构
- 网格匹配算法
- 合成 UI

**验收标准**：

- [ ] 配方匹配正确
- [ ] 合成结果正确

**依赖**：G3.N5

**优先级**：P2

**工时**：3 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`frontend-design`（合成界面）

---

### G4.M2 熔炉系统 [MiniMax M2.1]

**任务描述**：

- 熔炉方块实现
- 燃料机制
- 烧制过程

**验收标准**：

- [ ] 熔炉正常工作
- [ ] 烧制时间正确

**依赖**：G4.M1

**优先级**：P2

**工时**：2 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`threejs-materials`（熔炉材质）

---

### G4.M3 进度与成就 [MiniMax M2.1]

**任务描述**：

- 进度追踪
- 成就系统
- 奖励发放

**验收标准**：

- [ ] 进度正确记录
- [ ] 成就可解锁

**依赖**：G4.N2, G4.M1

**优先级**：P3

**工时**：2 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`frontend-ui-ux`（成就界面）

---

## Phase 5: 性能优化

> **目标**：确保流畅的游戏体验，优化内存和渲染

> **策略**：
>
> - GLM-4.7：架构设计类（内存、加载、LOD）
> - GPT-5 Nano：渲染管线、网络协议

---

### G5.G1 内存管理优化 [GLM-4.7]

**任务描述**：

- 对象池实现
- 垃圾回收优化
- 内存泄漏修复

**验收标准**：

- [ ] 内存占用稳定
- [ ] 无内存泄漏

**依赖**：G1.G4

**优先级**：P1

**工时**：3 天

**推荐模型**：GLM-4.7
**推荐技能**：无（内存管理）

---

### G5.G2 加载优化 [GLM-4.7]

**任务描述**：

- 懒加载策略
- 资源预加载
- 增量加载

**验收标准**：

- [ ] 初始加载 < 5s
- [ ] 区块加载无卡顿

**依赖**：G2.G3

**优先级**：P1

**工时**：3 天

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-loaders`

---

### G5.G3 LOD 系统 [GLM-4.7]

**任务描述**：

- 距离分级渲染
- 简化网格生成
- 过渡效果

**验收标准**：

- [ ] 远距离渲染简化
- [ ] 无明显跳变

**依赖**：G2.G3

**优先级**：P2

**工时**：4 天

**推荐模型**：GLM-4.7
**推荐技能**：`threejs-geometry`

---

### G5.G4 性能监控工具 [MiniMax M2.1]

**任务描述**：

- FPS 计数器
- 内存监控
- 性能报告

**验收标准**：

- [ ] 实时性能数据
- [ ] 瓶颈定位工具

**依赖**：G1.G4

**优先级**：P2

**工时**：2 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`playwright`（性能测试）
**辅助技能**：`frontend-design`（监控界面）

---

### G5.N1 渲染管线优化 [GPT-5 Nano]

**任务描述**：

- 批量渲染优化
- GPU 实例化
- 着色器优化

**验收标准**：

- [ ] 渲染性能提升 100%
- [ ] 同屏方块数提升

**依赖**：G1.G3

**优先级**：P1

**工时**：4 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`threejs-shaders`, `threejs-geometry`

---

### G5.N2 网络同步优化 [GPT-5 Nano]

**任务描述**：

- Delta 编码
- 数据压缩
- 预测与回滚

**验收标准**：

- [ ] 带宽占用降低
- [ ] 延迟感知降低

**依赖**：Phase 4 完成后

**优先级**：P2

**工时**：4 天

**推荐模型**：GPT-5 Nano
**推荐技能**：无（网络协议）

---

## Phase 6: UI 与 UX

> **目标**：提供良好的用户界面和交互体验

> **策略**：
>
> - GPT-5 Nano：基础框架、物品栏
> - MiniMax M2.1：辅助UI

---

### G6.N1 基础 UI 框架 [GPT-5 Nano]

**任务描述**：

- Canvas 2D 叠加层
- UI 组件库
- 响应式布局

**验收标准**：

- [ ] UI 可正常显示
- [ ] 适配不同屏幕

**依赖**：M0.M1

**优先级**：P1

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`frontend-design`, `frontend-ui-ux`

---

### G6.N2 物品栏界面 [GPT-5 Nano]

**任务描述**：

- 物品格渲染
- 拖拽操作
- 物品信息显示

**验收标准**：

- [ ] 物品栏美观实用
- [ ] 拖拽操作流畅

**依赖**：G3.N5

**优先级**：P1

**工时**：2 天

**推荐模型**：GPT-5 Nano
**推荐技能**：`frontend-design`
**辅助技能**：`canvas-design`（物品图标）

---

### G6.M1 准星与交互提示 [MiniMax M2.1]

**任务描述**：

- 屏幕准星
- 方块高亮
- 交互提示

**验收标准**：

- [ ] 准星居中
- [ ] 交互反馈及时

**依赖**：G3.N3

**优先级**：P1

**工时**：1 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`frontend-ui-ux`
**辅助技能**：`threejs-interaction`（高亮效果）

---

### G6.M2 设置菜单 [MiniMax M2.1]

**任务描述**：

- 视频设置（分辨率、FPS）
- 音频设置
- 控制设置

**验收标准**：

- [ ] 设置可保存
- [ ] 设置生效

**依赖**：G6.N1

**优先级**：P2

**工时**：2 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`frontend-design`
**辅助技能**：`frontend-ui-ux`

---

### G6.M3 暂停菜单 [MiniMax M2.1]

**任务描述**：

- 暂停状态管理
- 菜单导航
- 存档/读档功能

**验收标准**：

- [ ] ESC 暂停正常
- [ ] 存档功能可用

**依赖**：G6.N1, G2.M1

**优先级**：P2

**工时**：2 天

**推荐模型**：MiniMax M2.1
**推荐技能**：`frontend-design`
**辅助技能**：`frontend-ui-ux`

---

## 任务汇总表

### MiniMax M2.1（17任务）

| 编号  | 名称             | 所属Phase | 工时 |
| ----- | ---------------- | --------- | ---- |
| M0.M1 | 项目基础架构搭建 | Phase 0   | 2天  |
| M0.M2 | Git 工作流配置   | Phase 0   | 1天  |
| M0.M3 | 目录结构创建     | Phase 0   | 1天  |
| M0.M4 | 开发工具链配置   | Phase 0   | 1天  |
| G1.G4 | 引擎核心测试     | Phase 1   | 2天  |
| G2.M1 | 地形保存系统     | Phase 2   | 3天  |
| G4.M1 | 合成系统         | Phase 4   | 3天  |
| G4.M2 | 熔炉系统         | Phase 4   | 2天  |
| G4.M3 | 进度与成就       | Phase 4   | 2天  |
| G5.G4 | 性能监控工具     | Phase 5   | 2天  |
| G6.M1 | 准星与交互提示   | Phase 6   | 1天  |
| G6.M2 | 设置菜单         | Phase 6   | 2天  |
| G6.M3 | 暂停菜单         | Phase 6   | 2天  |

### GPT-5 Nano（20任务）

| 编号  | 名称                | 所属Phase | 工时 |
| ----- | ------------------- | --------- | ---- |
| G1.N1 | Three.js 场景初始化 | Phase 1   | 2天  |
| G1.N2 | 材质系统实现        | Phase 1   | 3天  |
| G1.N3 | 基础网格生成        | Phase 1   | 3天  |
| G1.N4 | Chunk 渲染系统      | Phase 1   | 3天  |
| G2.N1 | 噪声算法集成        | Phase 2   | 2天  |
| G2.N2 | 地形高度图生成      | Phase 2   | 2天  |
| G2.N3 | 洞穴系统实现        | Phase 2   | 3天  |
| G2.N4 | 地表植被生成        | Phase 2   | 2天  |
| G2.N5 | 天气系统            | Phase 2   | 3天  |
| G3.N1 | 相机控制实现        | Phase 3   | 2天  |
| G3.N2 | 玩家移动控制        | Phase 3   | 2天  |
| G3.N3 | 方块交互系统        | Phase 3   | 3天  |
| G3.N4 | 玩家物理模拟        | Phase 3   | 2天  |
| G3.N5 | 物品栏系统          | Phase 3   | 2天  |
| G4.N1 | 玩家AI实现          | Phase 4   | 4天  |
| G4.N2 | 生物AI实现          | Phase 4   | 4天  |
| G5.N1 | 渲染管线优化        | Phase 5   | 4天  |
| G5.N2 | 网络同步优化        | Phase 5   | 4天  |
| G6.N1 | 基础 UI 框架        | Phase 6   | 2天  |
| G6.N2 | 物品栏界面          | Phase 6   | 2天  |

### GLM-4.7（14任务）

| 编号  | 名称               | 所属Phase | 工时 |
| ----- | ------------------ | --------- | ---- |
| M0.G1 | 基础类型定义       | Phase 0   | 2天  |
| G1.G1 | VoxelWorld 类实现  | Phase 1   | 3天  |
| G1.G2 | Chunk 数据结构设计 | Phase 1   | 2天  |
| G1.G3 | InstancedMesh 优化 | Phase 1   | 4天  |
| G2.G1 | 生物群系系统       | Phase 2   | 3天  |
| G2.G2 | 结构生成系统       | Phase 2   | 4天  |
| G2.G3 | 世界区块管理       | Phase 2   | 4天  |
| G2.G4 | 地形性能优化       | Phase 2   | 3天  |
| G3.G1 | 碰撞检测系统       | Phase 3   | 3天  |
| G4.G1 | 生物系统基础       | Phase 4   | 3天  |
| G4.G2 | 红石系统           | Phase 4   | 5天  |
| G4.G3 | 附魔系统           | Phase 4   | 4天  |
| G5.G1 | 内存管理优化       | Phase 5   | 3天  |
| G5.G2 | 加载优化           | Phase 5   | 3天  |
| G5.G3 | LOD 系统           | Phase 5   | 4天  |

---

## 风险与缓解

| 风险                   | 可能性                 | 影响 | 缓解措施                       |
| ---------------------- | ---------------------- | ---- | ------------------------------ |
| 渲染性能不达标         | 中                     | 高   | 早期进行性能测试，预留优化时间 |
| AI 实现复杂度过高      | 中                     | 中   | 使用简化版 AI，渐进式增强      |
| 网络同步困难           | 单机模式优先，双人模式 | 高   | 高作为扩展                     |
| 需求变更               | 高                     | 中   | 敏捷开发，快速迭代             |
| 模型切换导致上下文丢失 | 中                     | 中   | 连续任务同一模型，减少切换     |

---

## 里程碑

| 里程碑 | 目标                | 预计时间 |
| ------ | ------------------- | -------- |
| M1     | 项目初始化完成      | 第 1 周  |
| M2     | 核心引擎 + 渲染完成 | 第 4 周  |
| M3     | 地形生成完成        | 第 7 周  |
| M4     | 玩家系统完成        | 第 9 周  |
| M5     | 基础玩法完成        | 第 11 周 |
| M6     | 性能优化完成        | 第 12 周 |
| M7     | UI/UX 完成          | 第 13 周 |

---

## 版本历史

| 版本 | 日期       | 变更                                 |
| ---- | ---------- | ------------------------------------ |
| 1.0  | 2026-02-08 | 初始任务清单                         |
| 2.0  | 2026-02-08 | 按开发模型重新排序，减少模型切换次数 |
